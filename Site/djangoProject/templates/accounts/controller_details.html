{% extends "base.html" %}
{% load static %}

{% block title %}–î–µ—Ç–∞–ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞{% endblock %}

{% block content %}
<div class="container-fluid">
    <h2 class="text-center my-4">–î–µ—Ç–∞–ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞</h2>
    <div class="row justify-content-center">
        <div class="col-12 col-lg-10">
            <div class="card mb-4 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title text-center">üìü IMAI: {{ controller.imai }}</h5>
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="info-box">
                                <div class="info-box-icon bg-info"><i class="fas fa-thermometer-half"></i></div>
                                <div class="info-box-content">
                                    <span class="info-box-text">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</span>
                                    <span class="info-box-number dynamic-value">{{ last_record.temperature }} ¬∞C</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="info-box">
                                <div class="info-box-icon bg-primary"><i class="fas fa-tint"></i></div>
                                <div class="info-box-content">
                                    <span class="info-box-text">–í–ª–∞–∂–Ω–æ—Å—Ç—å</span>
                                    <span class="info-box-number dynamic-value">{{ last_record.humidity }} %</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="info-box">
                                <div class="info-box-icon bg-warning"><i class="fas fa-weight"></i></div>
                                <div class="info-box-content">
                                    <span class="info-box-text">–í–µ—Å</span>
                                    <span class="info-box-number dynamic-value">{{ last_record.weight }} –∫–≥</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="info-box">
                                <div class="info-box-icon bg-success"><i class="fas fa-battery-full"></i></div>
                                <div class="info-box-content">
                                    <span class="info-box-text">–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ</span>
                                    <span class="info-box-number dynamic-value">{{ last_record.voltage }} –í</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-12 chart-container">
                            <div class="chart-scrollable">
                                <canvas id="weight-chart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-12 chart-container">
                            <div id="weight-change-chart"></div>
                        </div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-12 chart-container">
                            <div class="chart-scrollable">
                                <canvas id="temperature-chart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-12 chart-container">
                            <div class="chart-scrollable">
                                <canvas id="humidity-chart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-6 chart-container">
                            <canvas id="voltage-chart"></canvas>
                        </div>
                        <div class="col-md-6 chart-container">
                            <canvas id="signal-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- –°–∫—Ä—ã—Ç—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ JavaScript -->
<div id="records-data" style="display: none;">{{ records|safe }}</div>

<!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Highcharts —á–µ—Ä–µ–∑ CDN -->
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/stock.js"></script>
<script src="https://code.highcharts.com/modules/data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script> <!-- –î–æ–±–∞–≤–ª–µ–Ω accessibility.js -->

<!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Chart.js –¥–ª—è –¥—Ä—É–≥–∏—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment"></script>

<script src="{% static 'js/controller_details.js' %}"></script>
{% endblock %}
